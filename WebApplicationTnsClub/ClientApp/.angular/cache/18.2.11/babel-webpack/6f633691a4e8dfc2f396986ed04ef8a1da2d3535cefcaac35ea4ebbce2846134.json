{"ast":null,"code":"import { visibility } from '../../services/animations.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../../app/services/user.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction RegistrationComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r2.formError);\n  }\n}\nfunction RegistrationComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 13);\n    i0.ɵɵtext(2, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 14);\n    i0.ɵɵtext(4, \"Register\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const registerForm_r2 = i0.ɵɵreference(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", registerForm_r2.invalid);\n  }\n}\nfunction RegistrationComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\", 15);\n    i0.ɵɵtext(2, \"Registering new user ...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵelement(4, \"img\", 16);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RegistrationComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\", 15);\n    i0.ɵɵtext(2, \"New user has added to database\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let RegistrationComponent = /*#__PURE__*/(() => {\n  class RegistrationComponent {\n    constructor(router, userService) {\n      this.router = router;\n      this.userService = userService;\n      this.registering = false;\n      this.hasAdded = false;\n    }\n    onSubmit(registerForm) {\n      this.registering = true;\n      this.formError = null;\n      this.userService.registerUser(registerForm.value).subscribe(() => {\n        setTimeout(() => {\n          this.hasAdded = true;\n        }, 1200);\n        setTimeout(() => {\n          this.router.navigate(['/sign-in']);\n        }, 2000);\n      }); //else?\n    }\n    ngOnInit() {}\n    static {\n      this.ɵfac = function RegistrationComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || RegistrationComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UserService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: RegistrationComponent,\n        selectors: [[\"spa-registration\"]],\n        decls: 23,\n        vars: 7,\n        consts: [[\"registerForm\", \"ngForm\"], [\"name\", \"ngModel\"], [\"email\", \"ngModel\"], [\"password\", \"ngModel\"], [\"novalidate\", \"\", 3, \"ngSubmit\"], [1, \"form-group\"], [\"type\", \"text\", \"autocomplete\", \"off\", \"name\", \"name\", \"required\", \"\", \"placeholder\", \"User name\", \"ngModel\", \"\", 1, \"form-control\"], [1, \"alert\", \"alert-danger\", 3, \"hidden\"], [\"type\", \"email\", \"pattern\", \"[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,3}$\", \"autocomplete\", \"off\", \"name\", \"email\", \"required\", \"\", \"placeholder\", \"User email\", \"ngModel\", \"\", 1, \"form-control\"], [\"type\", \"password\", \"autocomplete\", \"off\", \"name\", \"password\", \"required\", \"\", \"ngModel\", \"\", \"placeholder\", \"Password\", 1, \"form-control\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"alert\", \"alert-danger\"], [\"routerLink\", \"/sign-in\", 1, \"btn\", \"btn-danger\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"message\"], [\"src\", \"src/imgs/loaderIn.gif\"]],\n        template: function RegistrationComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            const _r1 = i0.ɵɵgetCurrentView();\n            i0.ɵɵelementStart(0, \"h4\");\n            i0.ɵɵtext(1, \"Register for new account\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(2, \"form\", 4, 0);\n            i0.ɵɵlistener(\"ngSubmit\", function RegistrationComponent_Template_form_ngSubmit_2_listener() {\n              i0.ɵɵrestoreView(_r1);\n              const registerForm_r2 = i0.ɵɵreference(3);\n              return i0.ɵɵresetView(ctx.onSubmit(registerForm_r2));\n            });\n            i0.ɵɵelementStart(4, \"div\", 5);\n            i0.ɵɵelement(5, \"input\", 6, 1);\n            i0.ɵɵelementStart(7, \"div\", 7);\n            i0.ɵɵtext(8, \"Please enter your name\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(9, \"div\", 5);\n            i0.ɵɵelement(10, \"input\", 8, 2);\n            i0.ɵɵelementStart(12, \"div\", 7);\n            i0.ɵɵtext(13, \"Please enter your email\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(14, \"div\", 5);\n            i0.ɵɵelement(15, \"input\", 9, 3);\n            i0.ɵɵelementStart(17, \"div\", 7);\n            i0.ɵɵtext(18, \"Password is required\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(19, RegistrationComponent_div_19_Template, 2, 1, \"div\", 10)(20, RegistrationComponent_div_20_Template, 5, 1, \"div\", 11)(21, RegistrationComponent_div_21_Template, 5, 0, \"div\", 11)(22, RegistrationComponent_div_22_Template, 3, 0, \"div\", 11);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            const name_r4 = i0.ɵɵreference(6);\n            const email_r5 = i0.ɵɵreference(11);\n            const password_r6 = i0.ɵɵreference(16);\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"hidden\", name_r4.valid || name_r4.pristine);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"hidden\", email_r5.valid || email_r5.pristine);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"hidden\", password_r6.valid || password_r6.pristine);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.formError);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.registering && !ctx.hasAdded);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.registering && !ctx.hasAdded);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.hasAdded);\n          }\n        },\n        dependencies: [i3.NgIf, i1.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.PatternValidator, i4.NgModel, i4.NgForm],\n        styles: [\"[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;height:100vh;width:100vw;background-image:url(/src/imgs/signinlogo.jpg);background-position:center center;background-size:cover}.register-form[_ngcontent-%COMP%]{min-width:291px;background-color:#c2cccf;opacity:.9;padding:20px;margin:5px 10px;border-radius:10% 0}button.btn-primary[_ngcontent-%COMP%]{float:right}span[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{margin-left:5%}\"],\n        data: {\n          animation: [visibility]\n        }\n      });\n    }\n  }\n  return RegistrationComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}